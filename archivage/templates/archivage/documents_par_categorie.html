{% extends 'base.html' %}

{% block title %}Documents - {{ categorie.nom }}{% endblock %}

{% block content %}
<h1>Documents de la catégorie : {{ categorie.nom }}</h1>
<p>{{ categorie.description }}</p>

<table class="table table-striped">
    <thead>
        <tr>
            <th>#</th>
            <th>Titre</th>
            <th>Visibilité</th>
            <th>Date de création</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for document in documents %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ document.titre }}</td>
            <td>{{ document.get_visibilite_display }}</td>
            <td>{{ document.date_creation }}</td>
            <td>
                <a href="{{ document.fichier.url }}" target="_blank" class="btn btn-primary btn-sm">Lire</a>
                <a href="{% url 'telecharger_document' document.id %}" class="btn btn-success btn-sm">Télécharger</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="text-center">Aucun document trouvé pour cette catégorie.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="{% url 'categories' %}" class="btn btn-secondary">Retour aux catégories</a>
{% endblock %}